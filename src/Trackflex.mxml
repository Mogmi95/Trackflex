<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   xmlns:view="view.*"
					   backgroundColor="0x666666"
					   creationComplete="onCreationCompleteHandler(event)">
	<fx:Script>
		<![CDATA[
			import controller.LibraryController;
			import controller.PlayerController;
			
			import mx.events.FlexEvent;
			
			protected function onCreationCompleteHandler(event : FlexEvent) : void
			{
				var libraryDir	: File	= new File();
				
				addEventListener(MouseEvent.MOUSE_UP, onMouseUpHandler);
				
				libraryDir.addEventListener(Event.SELECT, onSelectDirectoryHandler);
				libraryDir.browse();
			}
			
			protected function onSelectDirectoryHandler(event : Event) : void
			{
				PlayerController.setCurrentTrack(File(event.target).nativePath);
			}
			
			protected function onMouseUpHandler(event : MouseEvent) : void
			{
				if (player.draggingTrackSlide)
				{
					player.onThumbMouseUpHandler(event);
				}
			}
			
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- Placer ici les éléments non visuels (services et objets de valeur, par exemple). -->
	</fx:Declarations>
	<view:PlayerView id="player" y="0" right="0" width="100%" height="70">
	</view:PlayerView>
	<mx:TabNavigator right="0" bottom="0" width="80%" height="225"
					 borderColor="0x000000">
		<s:NavigatorContent width="100%" height="100%" label="Playlist">
			<view:PlaylistView x="0" y="0" width="100%" height="100%">
			</view:PlaylistView>
		</s:NavigatorContent>
		<s:NavigatorContent width="100%" height="100%" label="Equalizer">
			<view:EqualizerView x="0" y="0" width="100%" height="100%">
			</view:EqualizerView>
		</s:NavigatorContent>
	</mx:TabNavigator>
	<view:TrackCollectionView x="0" top="69" bottom="0" width="20%">
	</view:TrackCollectionView>
	<mx:TabNavigator right="0" top="48" bottom="203" width="20%"
					 borderColor="0x000000">
		<s:NavigatorContent width="100%" height="100%" label="Artist">
			<view:LastfmInfoView x="0" y="0" width="100%" height="100%">
			</view:LastfmInfoView>
		</s:NavigatorContent>
		<s:NavigatorContent width="100%" height="100%" label="Lyrics">
			<view:LyricsView x="0" y="0" width="100%" height="100%">
			</view:LyricsView>
		</s:NavigatorContent>
	</mx:TabNavigator>
</s:WindowedApplication>
